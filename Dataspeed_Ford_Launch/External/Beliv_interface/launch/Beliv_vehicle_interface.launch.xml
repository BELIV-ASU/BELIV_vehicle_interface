<?xml version="1.0"?>
<launch>
  
  <!-- vehicle info -->
  <arg name="vehicle_info_param_file" default="$(find-pkg-share vehicle_info_util)/config/vehicle_info.param.yaml"/>

  <!-- Beliv_vehicle interface -->
  <arg name="frame_id" default="base_footprint"/>
  <arg name="warn_cmds" default="true"/>
  <arg name="buttons" default="true"/>
  <arg name="pedal_luts"    default="false"/>
  <arg name="ackermann_wheelbase" default="2.8498"/>
  <arg name="ackermann_track"     default="1.5824"/>
  <arg name="steering_ratio"      default="14.8"/>
  <group>
    <push-ros-namespace namespace="$(var vehicle_ns)" />
    <node pkg="dbw_ford_can" exec="dbw_node" output="screen">
      <remap from="can_rx" to="$(var can_ns)/can_rx"/>
      <remap from="can_tx" to="$(var can_ns)/can_tx"/>
      <param name="frame_id" value="$(var frame_id)" />
      <param name="warn_cmds" value="$(var warn_cmds)" />
      <param name="pedal_luts" value="$(var pedal_luts)" />
      <param name="buttons" value="$(var buttons)" />
      <param name="ackermann_wheelbase" value="$(var ackermann_wheelbase)" />
      <param name="ackermann_track" value="$(var ackermann_track)" />
      <param name="steering_ratio" value="$(var steering_ratio)" />
      <param name="joint_states" value="$(var load_urdf)" />
    </node>
    <node pkg="dataspeed_dbw_gateway" exec="ford_gateway" output="screen">
    </node>
    <node if="$(var ulc)" pkg="dataspeed_ulc_can" exec="ulc_node" output="screen">
      <remap from="can_rx" to="$(var can_ns)/can_rx"/>
      <remap from="can_tx" to="$(var can_ns)/can_tx"/>
    </node>
    <include if="$(var load_urdf)" file="$(find-pkg-share dbw_ford_description)/launch/mkz.launch.xml" />
  </group>

</launch>
